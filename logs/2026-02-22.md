# 2026-02-22 - File Naming Consistency

## Goals
- Standardize file naming with `venustum_` prefix

## Decisions

### Popup File Naming
- Renamed `popup/popup.*` files to `popup/venustum_popup.*`
- Keeps naming consistent with `venustum_content.js` and `venustum_background.js`

## Actions

### File Renames
- `popup/popup.js` → `popup/venustum_popup.js`
- `popup/popup.css` → `popup/venustum_popup.css`
- `popup/popup.html` → `popup/venustum_popup.html`

### Reference Updates
- Updated `manifest.json` default_popup path
- Updated `<link>` and `<script>` references in HTML

## Commits

| Commit | Description |
|--------|-------------|
| `Add AGENTS.md for AI agent guidance` | Minimal AGENTS.md following progressive disclosure |
| `Rename popup files with venustum_ prefix, bump to 0.2.6` | File rename and version bump |

## Current Version
`0.2.6`

## Research: AGENTS.md

Followed [A Complete Guide To AGENTS.md](https://www.aihero.dev/a-complete-guide-to-agents-md) for best practices:

- **One-sentence description** - anchors agent context
- **Key files only** - no full directory structure
- **External links** - point to MDN/docs instead of explaining
- **Points to SPEC.md** - progressive disclosure for detailed specs

### Key Principles Applied
1. Keep it minimal - ~150 tokens for instruction budget efficiency
2. No file structure - just key files
3. External references instead of embedded docs
4. Progressive disclosure - deep details in SPEC.md

## Research: CSS Custom Highlight API

Explored replacing span-based highlights with [CSS Custom Highlight API](https://developer.mozilla.org/en-US/Web/API/CSS_Custom_Highlight_API).

### Benefits
- **No DOM manipulation** - no `surroundContents()` or manual unwrap
- **Handles cross-element selections** - works when text spans multiple elements
- **Simpler code** - just register/unregister highlights

Decided against it because the current implementation uses CSS anchor positioning on the highlight element, which isn't supported by the Highlight API pseudo-elements.
